{
  "$schema": "https://playground.wordpress.net/blueprint-schema.json",
  "meta": {
    "title": "Step 1: Install Plugins",
    "description": "Installing and activating plugins for Cozy Community site",
    "author": "Cozy Community"
  },
  "preferredVersions": {
    "php": "8.2",
    "wp": "latest"
  },
  "login": {
    "username": "admin",
    "password": "password"
  },
  "steps": [
    {
      "step": "defineWpConfigConsts",
      "consts": {
        "WP_DEBUG": false,
        "WP_DEBUG_LOG": false,
        "WP_DEBUG_DISPLAY": false
      }
    },
    {
      "step": "resetData"
    },
    {
      "step": "importWordPressFiles",
      "wordPressFilesZip": {
        "resource": "url",
        "url": "https://www.dropbox.com/scl/fi/00pddonxdfrbvjwb30ma4/wp-content.zip?rlkey=vmyuzg598dz15ztzq75b4ahlv&st=48pdif6k&dl=1"
      }
    },
    {
      "step": "installTheme",
      "themeData": {
        "resource": "wordpress.org/themes",
        "slug": "twentytwentyfour"
      },
      "options": {
        "activate": false
      }
    },
    {
      "step": "installTheme",
      "themeData": {
        "resource": "url",
        "url": "https://github.com/pixel21/cozytest/raw/refs/heads/main/cozy-communities.zip"
      },
      "options": {
        "activate": true
      }
    },

    {
      "step": "installPlugin",
      "pluginData": {
        "resource": "wordpress.org/plugins",
        "slug": "bbpress"
      }
    },
    {
      "step": "installPlugin",
      "pluginData": {
        "resource": "url",
        "url": "https://github.com/a8cteam51/community-gallery-tags/archive/refs/heads/main.zip"
      },
      "options": {
        "activate": true
      }
    },
    {
      "step": "installPlugin",
      "pluginData": {
        "resource": "wordpress.org/plugins",
        "slug": "buddypress"
      }
    },
    {
      "step": "wp-cli",
      "command": "wp option update permalink_structure '/%year%/%monthnum%/%day%/%postname%/'"
    },
    {
      "step": "wp-cli",
      "command": "wp rewrite flush"
    }
    
  ]
}
